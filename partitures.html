<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Partitures musicals de Joan Sardans Pla. Partitures d'estudi per a violí, piano, mandolina i altres instruments.">
  <title>Partitures – Joan Sardans Pla</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <a href="#partitures" class="skip-link">Saltar a les partitures</a>
  
  <nav aria-label="Menú principal">
    <ul>
      <li><a href="index.html">Inici</a></li>
      <li><a href="audio.html">Àudio</a></li>
      <li><a href="video.html">Vídeo</a></li>
      <li><a href="partitures.html" aria-current="page">Partitures</a></li>
      <li><a href="contacte.html">Contacte</a></li>
    </ul>
  </nav>

  <main>
    <section id="partitures" class="container" aria-labelledby="titol-partitures">
      <h1 id="titol-partitures">Partitures Musicals</h1>
      <p class="subtitol">Col·lecció de partitures disponibles per estudi</p>

      <div class="filtres-partitures">
        <button class="filtre-boto active" data-categoria="totes">Totes</button>
        <button class="filtre-boto" data-categoria="baixa">Baixa</button>
        <button class="filtre-boto" data-categoria="mitjana-baixa">Mitjana-Baixa</button>
        <button class="filtre-boto" data-categoria="mitjana-alta">Mitjana-Alta</button>
        <button class="filtre-boto" data-categoria="alta">Alta</button>
      </div>

      <div class="galeria-partitures">


        
        <article class="partitura-card" data-categoria="mitjana-alta">
          <div class="partitura-imatge-container">
            <img src="imatges/contrapas.png" alt="Partitura del Contrapàs de Prats de Lluçanès" loading="lazy">
            <div class="partitura-overlay">
              <button class="boto-ampliar" aria-label="Ampliar partitura Contrapàs de Prats de Lluçanès">
                <svg viewBox="0 0 24 24" width="24" height="24">
                  <path fill="currentColor" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="partitura-info">
            <h2>Contrapàs de Prats de Lluçanès</h2>
            <div class="partitura-metadades">
              <span class="partitura-instrument">Mandola</span>
              <span class="partitura-dificultat">Mitjana-Alta</span>
              <span class="partitura-genere">Tradicional Catalana</span>
            </div>
            <p class="partitura-descripcio">Adaptació del Contrapàs de Prats de Lluçanès.</p>
          </div>
        </article>


        <article class="partitura-card" data-categoria="mitjana-alta">
          <div class="partitura-imatge-container">
            <img src="imatges/abril_74.png" alt="Partitura de Abril 74 del Lluís Llach" loading="lazy">
            <div class="partitura-overlay">
              <button class="boto-ampliar" aria-label="Ampliar partitura Abril 74">
                <svg viewBox="0 0 24 24" width="24" height="24">
                  <path fill="currentColor" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="partitura-info">
            <h2>Abril 74</h2>
            <div class="partitura-metadades">
              <span class="partitura-instrument">Violí</span>
              <span class="partitura-dificultat">Mitjana-Alta</span>
              <span class="partitura-genere">Cançó</span>
            </div>
            <p class="partitura-descripcio">Adaptació del clàssic del Lluís Llach.</p>
          </div>
        </article>


        
        <article class="partitura-card" data-categoria="alta">
          <div class="partitura-imatge-container">
            <img src="imatges/giant_steps.png" alt="Partitura de Giant Steps de John Coltrane" loading="lazy">
            <div class="partitura-overlay">
              <button class="boto-ampliar" aria-label="Ampliar partitura Giant Steps">
                <svg viewBox="0 0 24 24" width="24" height="24">
                  <path fill="currentColor" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="partitura-info">
            <h2>Giant Steps</h2>
            <div class="partitura-metadades">
              <span class="partitura-instrument">Piano</span>
              <span class="partitura-dificultat">Alta</span>
              <span class="partitura-genere">Canvis de Coltrane</span>
            </div>
            <p class="partitura-descripcio">Adaptació aflamencada del clàssic de John Coltrane.</p>
          </div>
        </article>



        
        <article class="partitura-card" data-categoria="alta">
          <div class="partitura-imatge-container">
            <img src="imatges/lush_life.png" alt="Partitura de Lush Life de Billy Strayhorn" loading="lazy">
            <div class="partitura-overlay">
              <button class="boto-ampliar" aria-label="Ampliar partitura Lush Life">
                <svg viewBox="0 0 24 24" width="24" height="24">
                  <path fill="currentColor" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="partitura-info">
            <h2>Lush Life</h2>
            <div class="partitura-metadades">
              <span class="partitura-instrument">Mandolina</span>
              <span class="partitura-dificultat">Alta</span>
              <span class="partitura-genere">Jazz</span>
            </div>
            <p class="partitura-descripcio">Adaptació de Lush Life de Billy Strayhorn.</p>
          </div>
        </article>

      </div>
    </section>


    
    <!-- Modal per a visualització ampliada -->
    <div id="modal-partitura" class="modal" aria-hidden="true" role="dialog" aria-labelledby="modal-titol">
      <div class="modal-contingut">
        <button class="modal-tanca" aria-label="Tancar visualització">×</button>
        <h2 id="modal-titol" class="sr-only">Visualització de partitura</h2>
        <img id="modal-imatge" src="" alt="">
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; <span id="current-year"></span> Joan Sardans Pla. Tots els drets reservats.</p>
      <p>
        <a href="mailto:joansardanspla@protonmail.com">joansardanspla@protonmail.com</a> | 
        <a href="contacte.html">Contacte</a>
      </p>
    </div>
  </footer>

  <script>
    // Actualitza l'any actual al footer
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // Filtres de partitures
    document.addEventListener('DOMContentLoaded', function() {
      const filtres = document.querySelectorAll('.filtre-boto');
      const partitures = document.querySelectorAll('.partitura-card');

      // Filtres per categoria
      filtres.forEach(filtre => {
        filtre.addEventListener('click', function() {
          filtres.forEach(f => f.classList.remove('active'));
          this.classList.add('active');
          
          const categoria = this.getAttribute('data-categoria');
          
          partitures.forEach(partitura => {
            const partituraCategories = partitura.getAttribute('data-categoria').split(' ');
            if (categoria === 'totes' || partituraCategories.includes(categoria)) {
              partitura.style.display = 'block';
            } else {
              partitura.style.display = 'none';
            }
          });
        });
      });

      // Modal per a visualització ampliada
      const modal = document.getElementById('modal-partitura');
      const modalImatge = document.getElementById('modal-imatge');
      const modalTanca = document.querySelector('.modal-tanca');
      const botonsAmpliar = document.querySelectorAll('.boto-ampliar');

      botonsAmpliar.forEach(boto => {
        boto.addEventListener('click', function() {
          const partituraCard = this.closest('.partitura-card');
          const imatge = partituraCard.querySelector('img');
          const titol = partituraCard.querySelector('h2').textContent;
          
          modalImatge.src = imatge.src;
          modalImatge.alt = imatge.alt;
          document.getElementById('modal-titol').textContent = `Visualització ampliada: ${titol}`;
          
          modal.setAttribute('aria-hidden', 'false');
          modal.style.display = 'flex';
          document.body.style.overflow = 'hidden';
        });
      });

      // Tancar modal
      function tancarModal() {
        modal.setAttribute('aria-hidden', 'true');
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
      }

      modalTanca.addEventListener('click', tancarModal);
      
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          tancarModal();
        }
      });

      // Tancar modal amb tecla ESC
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') {
          tancarModal();
        }
      });
    });
  </script>
</body>
</html>
