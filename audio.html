<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Escolta els enregistraments de Joan Sardans Pla. Viol√≠, viola, piano i mandolina en diferents estils musicals.">
  <title>√Äudio ‚Äì Joan Sardans Pla</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="styles.css">
</head>
  
<body>
  <a href="#audio" class="skip-link">Saltar als continguts d'√†udio</a>
  
  <nav aria-label="Men√∫ principal">
    <ul>
      <li><a href="index.html">Inici</a></li>
      <li><a href="audio.html" aria-current="page">√Äudio</a></li>
      <li><a href="video.html">V√≠deo</a></li>
      <li><a href="partitures.html">Partitures</a></li>
      <li><a href="contacte.html">Contacte</a></li>
    </ul>
  </nav>

  <main>
    <section id="audio" class="container" aria-labelledby="titol-audio">
      <h1 id="titol-audio">Enregistraments d'√Äudio</h1>
      <p class="subtitol">
        Descobreix una selecci√≥ de les meves interpretacions en diferents estils i instruments
      </p>
      
      <div class="filtres-audio">
        <button class="filtre-boto active" data-categoria="tots">Tots</button>
        <button class="filtre-boto" data-categoria="llach">Llach</button>
        <button class="filtre-boto" data-categoria="serrat">Serrat</button>
      </div>

      <!-- ‚ú≥Ô∏è Contenidor nou per aplicar el gap correctament -->
      <div class="llista-audio">

        <figure class="audio-player" data-categoria="llach">
          <div class="audio-header">
            <svg class="audio-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
            </svg>
            <figcaption>Abril 74</figcaption>
          </div>

          <div class="audio-info">
            <span class="instrument">Llach</span>
          </div>

          <audio controls>
            <source src="audio/abril_74.mp3" type="audio/mpeg">
            El teu navegador no suporta l'element d'√†udio.
          </audio>

          <div class="audio-descripcio">
            <p>Adaptaci√≥ d'Abril 74 de Llu√≠s Llach</p>
          </div>
        </figure>

        <figure class="audio-player" data-categoria="serrat">
          <div class="audio-header">
            <svg class="audio-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
            </svg>
            <figcaption>Me'n Vaig a Peu</figcaption>
          </div>

          <div class="audio-info">
            <span class="instrument">Serrat</span>
          </div>

          <audio controls>
            <source src="audio/men_vaig_a_peu.mp3" type="audio/mpeg">
            El teu navegador no suporta l'element d'√†udio.
          </audio>

          <div class="audio-descripcio">
            <p>Versi√≥ de Me'n Vaig a Peu de Joan Manel Serrat</p>
          </div>
        </figure>

      </div> <!-- üîö fi de .llista-audio -->
    </section>
  </main>

  <footer>
    <div class="container">
      <p>&copy; <span id="current-year"></span> Joan Sardans Pla. Tots els drets reservats.</p>
      <p>
        <a href="mailto:joansardanspla@protonmail.com">joansardanspla@protonmail.com</a> | 
        <a href="contacte.html">Contacte</a>
      </p>
    </div>
  </footer>

  <script>
    // Actualitza l'any actual al footer
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // Filtres d'√†udio per instrument
    document.addEventListener('DOMContentLoaded', function() {
      const filtres = document.querySelectorAll('.filtre-boto');
      const audioPlayers = document.querySelectorAll('.audio-player');

      filtres.forEach(filtre => {
        filtre.addEventListener('click', function() {
          filtres.forEach(f => f.classList.remove('active'));
          this.classList.add('active');
          
          const categoria = this.getAttribute('data-categoria');
          
          audioPlayers.forEach(player => {
            if (categoria === 'tots' || player.getAttribute('data-categoria') === categoria) {
              player.style.display = 'block';
            } else {
              player.style.display = 'none';
            }
          });
        });
      });

      // Pausa altres √†udios quan un es reprodueix
      const audioElements = document.querySelectorAll('audio');
      audioElements.forEach(audio => {
        audio.addEventListener('play', function() {
          audioElements.forEach(otherAudio => {
            if (otherAudio !== audio && !otherAudio.paused) {
              otherAudio.pause();
            }
          });
        });
      });
    });
  </script>
</body>
</html>
